"use strict";var _lodash=require("lodash");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class Requester{constructor({driver:a,unsupported:c=[],version:b}={}){this.driver=a,this.unsupported=c,this.version=b}prepare({method:a,params:c=[],suffix:b}){if(this.version&&(0,_lodash.includes)(this.unsupported,a))throw new Error(`Method "${a}" is not supported by version "${this.version}"`);const d=this.driver.formatter.request(a,c,b);return{id:`${Date.now()}${d.suffix===void 0?"":`-${d.suffix}`}`,method:d.method,params:d.params}}}exports.default=Requester;