"use strict";var _dsnParser=_interopRequireDefault(require("dsn-parser"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const SECURE_DRIVER_POSTFIX="+s",shouldUseHTTPS=a=>a.endsWith("+s"),getSecureDriverName=a=>a.substring(0,a.length-"+s".length);var _default=a=>{const b=new _dsnParser.default(a);let{driver:c,user:d,password:e,host:f,port:g,params:h}=b.getParts(),{timeout:i,returnHeaders:j,strictSSL:k,loggerName:l,version:m}=h,n="http",o=80,p=c;i=i?+i:void 0,j="true"===j,k="true"===k,l=l||c,shouldUseHTTPS(c)&&(n="https",o=443,p=getSecureDriverName(c));const q=`${n}://${f}:${g||o}`;return{baseUrl:q,loggerName:l,driverName:p,timeout:i,returnHeaders:j,strictSSL:k,auth:(e||d)&&{pass:e,user:d},version:m}};exports.default=_default;